{
    "base": {
        "find_unused_parameters": true,
        "nncf_config": {
            "target_metric_name": "mAP",
            "input_info": {
                "sample_size": [1, 3, 864, 864]
            },
            "compression": [],
            "log_dir": "."
        }
    },
    "nncf_quantization": {
        "optimizer": {
            "lr": 0.0005
        },
        "nncf_config": {
            "compression": [
                {
                    "algorithm": "quantization",
                    "initializer": {
                        "range": {
                            "num_init_samples": 300
                        },
                        "batchnorm_adaptation": {
                            "num_bn_adaptation_samples": 300
                        }
                    }
                }
            ],
            "accuracy_aware_training": {
                "mode": "early_exit",
                "params": {
                    "maximal_absolute_accuracy_degradation": 0.01,
                    "maximal_total_epochs": 20
                }
            }
        }
    },
    "nncf_quantization_pruning": {
        "nncf_config": {
            "compression": [
                {
                    "algorithm": "filter_pruning",
                    "ignored_scopes": [
                        "{re}SingleStageDetector/SSDHead\\[bbox_head\\].*"
                    ],
                    "params": {
                        "schedule": "baseline",
                        "pruning_flops_target": 0.3,
                        "filter_importance": "geometric_median"
                    }
                },
                {
                    "algorithm": "quantization",
                    "initializer": {
                        "range": {
                            "num_init_samples": 300
                        },
                        "batchnorm_adaptation": {
                            "num_bn_adaptation_samples": 300
                        }
                    }
                }
            ]
        }
    },
    "order_of_parts": [
        "nncf_quantization",
        "nncf_quantization_pruning"
    ]
}
